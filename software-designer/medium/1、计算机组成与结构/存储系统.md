# 存储系统

## 概念

* 在程序执行过程中，cache与主存的地址映射是由**硬件自动**完成的，有以下方式：
1. 全相联：主存的任意一块可以映射到cache的任意一块
2. 直接相联映射：主存中一块只能映射到cache的一个特定块；特点：块冲突概率低，cache
3. 组相联：各区中的某一块只能存入缓存的同组号的空间内，但组内各块地址之间则可以任意存放
* 计算机系统的主存主要是由DRAM构成；SRAM用来作为高速缓冲存储器cache
* 存储体系：
1. cache存储体系：cache和主存构成，目的提高存储器速度
2. 虚拟存储体系：由主存储器和在线磁盘等辅存构成，目的扩大存储器容量

* 存储系统中的存储器，按访问方式可分为按地址访问的存储器和按内容访问的存储器；按寻址方式分类可分为随机存储器、顺序存储器和直接存储器。随机存储器（Random Access Memory，RAM）指可对任何存储单元存入或读取数据， 访问任何一个存储单元所需的时间是相同的。顺序存储器（Sequentially Addressed Memory，SAM）指访问数据所需要的时间与数据所在的存储位置相关，磁带是典型的顺序存储器。直接存储器（Direct Addressed Memory，DAM）是介于随机存取和顺序存取之间的一种寻址方式。磁盘是一种直接存取存储器，它对磁道的寻址是随机的，而在一个磁道内，则是顺序寻址。相联存储器是一种按内容访问的存储器。其工作原理就是把数据或数据的某一部分作为关键字，将该关键字与存储器中的每一单元进行比较，从而找出存储器中所有与关键字相同的数据字。

## 计算题

1、 内存按字节编址。若用存储容量为32Kx8bit的存储器芯片构成地址从A0000H到DFFFFH的内存，则至少需要**8**片芯片。

1. 确定起始和结束地址：起始地址是A0000H，结束地址是DFFFFH。
2. A0000H 转换为十进制是所以起始地址是 10 x 16^4 = 655360。结束地址是 13 x 16^5 + 15 x 16^4 + 15 x 16^3 + 15 x 16^2 + 15 x 16^1 + 15 x 16^0 = 917503。
3. 地址数量 = 结束地址 - 起始地址 + 1 = 917503 - 655360 + 1地址数量 = 262144 + 1地址数量 = 262145
4. 计算存储容量：每个地址占用1字节，所以存储容量就是地址数量乘以每个地址的字节数。存储容量 = 地址数量 x 1存储容量 = 262145 x 1存储容量 = 262145 字节将字节转换回Kilobytes (KB)：存储容量 = 262145 字节 ÷ 1024 = 256 KB + 129字节
5. 计算每片芯片的存储容量：
每片芯片的存储容量是32Kx8bit = 32KB。
6. 总芯片数量= 32KB/256KB=8
总芯片数量=8